{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nexport default {\n  name: 'ProfileView',\n\n  data() {\n    return {\n      items: [],\n      name: \"\",\n      city: \"\",\n      age: \"\",\n      photo: null,\n      addProfile: null,\n      profile: []\n    };\n  },\n\n  created() {\n    this.getItems();\n    this.getInfo();\n  },\n\n  methods: {\n    fileChanged(event) {\n      this.file = event.target.files[0];\n    },\n\n    async getItems() {\n      try {\n        let response = await axios.get(\"/api/items\");\n        this.items = response.data;\n        return true;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async uploadInfo() {\n      try {\n        const formData = new FormData();\n        formData.append('photo', this.file, this.file.name);\n        let r3 = await axios.post('/api/picture', formData);\n        let r4 = await axios.post('/api/profile', {\n          name: this.name,\n          city: this.city,\n          age: this.age,\n          photo: r3.data.photo\n        });\n        this.$forceUpdate();\n        this.addProfile = r4.data;\n        this.getInfo();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async getInfo() {\n      try {\n        let response = await axios.get(\"/api/profile\");\n        this.profile = response.data;\n        return true;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async deleteProfile(profile) {\n      try {\n        await axios.delete(\"/api/profile/\" + profile[0]._id);\n        this.getInfo();\n        return true;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACAA,qBADA;;AAEAC;AACA;AACAC,eADA;AAEAF,cAFA;AAGAG,cAHA;AAIAC,aAJA;AAKAC,iBALA;AAMAC,sBANA;AAOAC;AAPA;AASA,GAZA;;AAaAC;AACA;AACA;AACA,GAhBA;;AAiBAC;AACAC;AACA;AACA,KAHA;;AAIA;AACA;AACA;AACA;AACA;AACA,OAJA,CAIA;AACAC;AACA;AACA,KAZA;;AAaA;AACA;AACA;AACAC;AACA;AACA;AACAZ,yBADA;AAEAG,yBAFA;AAGAC,uBAHA;AAIAC;AAJA;AAMA;AACA;AACA;AACA,OAbA,CAaA;AACAM;AACA;AACA,KA9BA;;AA+BA;AACA;AACA;AACA;AACA;AACA,OAJA,CAIA;AACAA;AACA;AACA,KAvCA;;AAwCA;AACA;AACA;AACA;AACA;AACA,OAJA,CAIA;AACAA;AACA;AACA;;AAhDA;AAjBA","names":["name","data","items","city","age","photo","addProfile","profile","created","methods","fileChanged","console","formData"],"sourceRoot":"src/views","sources":["Profile.vue"],"sourcesContent":["<template>\n    <div class=\"profile\">\n        <h1>Your Profile</h1>\n        <div class=\"Personal Information\">\n            <div class=\"personalForm\" v-if=\"profile.length===0\">\n                <h2 class=\"label\">Tell Us About Yourself</h2>\n                <div class=\"personalEntry\">\n                    <input class=\"shortEntry\" v-model=\"name\" placeholder=\"Name\" />\n                    <p></p>\n                    <input class=\"shortEntry\" v-model=\"city\" placeholder=\"City\" />\n                    <p></p>\n                    <input class=\"shortEntry\" v-model=\"age\" placeholder=\"Age\" />\n                    <p></p>\n                </div>\n                <p class=\"pictureLabel\"><strong>Upload Your Picture</strong></p>\n                <input class=\"fileSelect\" type=\"file\" name=\"photo\" @change=\"fileChanged\" />\n                <button class=\"submit\" @click=\"uploadInfo\">Submit Personal Information</button>\n            </div>\n        </div>\n        <div class=\"personalProfile\" v-if=\"profile.length > 0\">\n            <img class=\"profilePic\" :src=\"profile[0].photo\" />\n            <div class=\"personalInfo\">\n                <p>Name: {{profile[0].name}}</p>\n                <p>City: {{profile[0].city}}</p>\n                <p>Age: {{profile[0].age}}</p>\n                <button @click=\"deleteProfile(profile)\">Delete</button>\n            </div>\n        </div>\n        <h1>Your Posts</h1>\n        <section class=\"posts\">\n            <h3 class=\"empty\" v-if=\"items.length === 0\">You have no posts</h3>\n            <div class=\"post\" v-for=\"item in items\" :key=\"item.id\">\n                <h2>{{item.title}}</h2>\n                <img :src=\"item.path\" />\n                <p>{{item.text}}</p>\n            </div>\n        </section>\n        </div>\n</template>\n\n<script>\n    import axios from 'axios';\n    export default {\n        name: 'ProfileView',\n        data() {\n            return {\n                items: [],\n                name: \"\",\n                city: \"\",\n                age: \"\",\n                photo: null,\n                addProfile: null,\n                profile: [],\n            }\n        },\n        created() {\n            this.getItems();\n            this.getInfo();\n        },\n        methods: {\n            fileChanged(event) {\n                this.file = event.target.files[0]\n            },\n            async getItems() {\n                try {\n                    let response = await axios.get(\"/api/items\");\n                    this.items = response.data;\n                    return true;\n                } catch (error) {\n                    console.log(error);\n                }\n            },\n            async uploadInfo() {\n                try {\n                    const formData = new FormData();\n                    formData.append('photo', this.file, this.file.name)\n                    let r3 = await axios.post('/api/picture', formData);\n                    let r4 = await axios.post('/api/profile', {\n                        name: this.name,\n                        city: this.city,\n                        age: this.age,\n                        photo: r3.data.photo\n                    });\n                    this.$forceUpdate();\n                    this.addProfile = r4.data;\n                    this.getInfo();\n                } catch (error) {\n                    console.log(error);\n                } \n            },\n            async getInfo() {\n                try {\n                    let response = await axios.get(\"/api/profile\");\n                    this.profile = response.data;\n                    return true;\n                } catch (error) {\n                    console.log(error);\n                }\n            },\n            async deleteProfile(profile) {\n                try {\n                    await axios.delete(\"/api/profile/\" + profile[0]._id);\n                    this.getInfo();\n                    return true;\n                } catch (error) {\n                    console.log(error);\n                }\n            },\n        }\n    }\n</script>\n\n<style scoped>\n    img {\n        margin-top: 20px;\n        width: 150px;\n        height: auto;\n    }\n    h2 {\n        border-top-left-radius: 20px;\n        border-top-right-radius: 20px;\n        border-bottom: 0.5px solid black;\n        background-color: #e1d9ec;\n        padding: 20px;\n        margin: 0;\n    }\n\n    p {\n        margin-top: 25px;\n        margin-bottom: 20px;\n    }\n\n    button {\n        margin-bottom: 20px;\n    }\n\n    .post, .personalForm {\n        text-align: center;\n        margin: 10px;\n        height: auto;\n        border: 0.5px solid black;\n        border-radius: 20px;\n        margin-bottom: 20px;\n    }\n\n    .personalProfile {\n        text-align: center;\n        margin: 12px;\n        height: auto;\n    }\n\n    .personalInfo {\n        margin-top: 0;\n        margin-left: 50px;\n        margin-right: 50px;\n        border: 0.5px solid black;\n        margin-bottom: 20px;\n    }\n\n    .personalEntry {\n        margin-top: 10px;\n    }\n\n    .fileSelect {\n        margin-top: 10px;\n        margin-left: 30px;\n        margin-right: 30px;\n        margin-bottom: 30px;\n    }\n\n    .submit {\n        margin-bottom: 20px;\n    }\n\n    .profilePic {\n        height: 150px;\n        border: 5px solid #e1d9ec;\n        margin-bottom: 0;\n    }\n    \n    .empty {\n        margin: 20px;\n    }\n\n    @media (min-width: 48em) {\n        .post, .personalForm {\n            margin-left: 500px;\n            margin-right: 500px;\n        }\n\n        .personalInfo {\n            margin-left: 673px;\n            margin-right: 673px;\n        }\n\n    }\n   \n</style>"]},"metadata":{},"sourceType":"module"}